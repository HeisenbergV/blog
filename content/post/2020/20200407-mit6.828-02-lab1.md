
---
title: "MIT6.828-02-Lab1.Util"
categories: [code,xv6]
tags: [操作系统,xv6]
date: 2020-04-07
---


## 知识点

## Util
每一个Lab对应一个git 分支，本实验分支为 `util`，主要是实现5个shell小程序。在 `xv6-riscv-fall19`项目里， `kernel`是内核， `user`是用户态程序， 代码写到`user`里，然后再Makefile `UPROGS`变量中加入的相应名称即可：

```Makefile
UPROGS=\
	$U/_sleep\
	$U/_pingpong\
	$U/_primes\
	$U/_find\
	$U/_xargs\
```

我的代码都在 [这里](https://github.com/HeisenbergV/xv6-riscv-fall19/tree/util/user)

### sleep
`kernel/sysproc.c` 提供了`sleep`接口，只需要进行一次系统调用即可。

**出现的问题**：程序写完，但在执行命令的时候总是卡死，目前还不知道什么原因

```c
#include "kernel/types.h"
#include "user/user.h"

int
main(int argc, char *argv[])
{
    if( argc != 2) {
        fprintf(2, "usage: sleep seconds \n");
        exit();
    }
    sleep(atoi(argv[1]));
    exit();
}
```
### pingpong

### primes
### find
### xargs
